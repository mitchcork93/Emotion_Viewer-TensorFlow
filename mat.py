import sys
from scipy.spatial import distance
import tensorflow as tf
import numpy as np

maximum = float(-10000.0)     # For normalizing data
minimum = float(10000.0)     # For normalizing data
model = tf.keras.models.load_model('models/emotions.model')

parameters = {
    0: {"first": 0, "second": 1},
    1: {"first": 0, "second": 11},
    2: {"first": 0, "second": 12},
    3: {"first": 0, "second": 13},
    4: {"first": 0, "second": 14},
    5: {"first": 0, "second": 15},
    6: {"first": 0, "second": 16},
    7: {"first": 0, "second": 26},
    8: {"first": 0, "second": 42},
    9: {"first": 0, "second": 43},
    10: {"first": 0, "second": 44},
    11: {"first": 0, "second": 45},
    12: {"first": 0, "second": 46},
    13: {"first": 0, "second": 47},
    14: {"first": 1, "second": 2},
    15: {"first": 1, "second": 11},
    16: {"first": 1, "second": 12},
    17: {"first": 1, "second": 13},
    18: {"first": 1, "second": 14},
    19: {"first": 1, "second": 15},
    20: {"first": 1, "second": 16},
    21: {"first": 1, "second": 26},
    22: {"first": 1, "second": 42},
    23: {"first": 1, "second": 43},
    24: {"first": 1, "second": 45},
    25: {"first": 1, "second": 46},
    26: {"first": 1, "second": 47},
    27: {"first": 1, "second": 54},
    28: {"first": 1, "second": 64},
    29: {"first": 2, "second": 3},
    30: {"first": 2, "second": 10},
    31: {"first": 2, "second": 11},
    32: {"first": 2, "second": 12},
    33: {"first": 2, "second": 13},
    34: {"first": 2, "second": 14},
    35: {"first": 2, "second": 15},
    36: {"first": 2, "second": 16},
    37: {"first": 2, "second": 26},
    38: {"first": 2, "second": 45},
    39: {"first": 2, "second": 47},
    40: {"first": 2, "second": 48},
    41: {"first": 2, "second": 52},
    42: {"first": 2, "second": 53},
    43: {"first": 2, "second": 54},
    44: {"first": 2, "second": 64},
    45: {"first": 3, "second": 4},
    46: {"first": 3, "second": 10},
    47: {"first": 3, "second": 11},
    48: {"first": 3, "second": 12},
    49: {"first": 3, "second": 13},
    50: {"first": 3, "second": 14},
    51: {"first": 3, "second": 15},
    52: {"first": 3, "second": 16},
    53: {"first": 3, "second": 26},
    54: {"first": 3, "second": 45},
    55: {"first": 3, "second": 46},
    56: {"first": 3, "second": 47},
    57: {"first": 3, "second": 48},
    58: {"first": 3, "second": 52},
    59: {"first": 3, "second": 53},
    60: {"first": 3, "second": 54},
    61: {"first": 3, "second": 55},
    62: {"first": 3, "second": 60},
    63: {"first": 3, "second": 62},
    64: {"first": 3, "second": 63},
    65: {"first": 3, "second": 64},
    66: {"first": 4, "second": 9},
    67: {"first": 4, "second": 10},
    68: {"first": 4, "second": 11},
    69: {"first": 4, "second": 12},
    70: {"first": 4, "second": 13},
    71: {"first": 4, "second": 14},
    72: {"first": 4, "second": 15},
    73: {"first": 4, "second": 16},
    74: {"first": 4, "second": 46},
    75: {"first": 4, "second": 47},
    76: {"first": 4, "second": 52},
    77: {"first": 4, "second": 53},
    78: {"first": 4, "second": 54},
    79: {"first": 4, "second": 55},
    80: {"first": 4, "second": 56},
    81: {"first": 4, "second": 59},
    82: {"first": 4, "second": 63},
    83: {"first": 4, "second": 64},
    84: {"first": 4, "second": 65},
    85: {"first": 4, "second": 66},
    86: {"first": 4, "second": 67},
    87: {"first": 5, "second": 8},
    88: {"first": 5, "second": 9},
    89: {"first": 5, "second": 10},
    90: {"first": 5, "second": 11},
    91: {"first": 5, "second": 12},
    92: {"first": 5, "second": 13},
    93: {"first": 5, "second": 14},
    94: {"first": 5, "second": 15},
    95: {"first": 5, "second": 16},
    96: {"first": 5, "second": 53},
    97: {"first": 5, "second": 54},
    98: {"first": 5, "second": 55},
    99: {"first": 5, "second": 56},
    100: {"first": 5, "second": 57},
    101: {"first": 5, "second": 58},
    102: {"first": 5, "second": 59},
    103: {"first": 5, "second": 64},
    104: {"first": 5, "second": 65},
    105: {"first": 5, "second": 66},
    106: {"first": 5, "second": 67},
    107: {"first": 6, "second": 7},
    108: {"first": 6, "second": 8},
    109: {"first": 6, "second": 9},
    110: {"first": 6, "second": 10},
    111: {"first": 6, "second": 11},
    112: {"first": 6, "second": 12},
    113: {"first": 6, "second": 13},
    114: {"first": 6, "second": 14},
    115: {"first": 6, "second": 54},
    116: {"first": 6, "second": 55},
    117: {"first": 6, "second": 56},
    118: {"first": 6, "second": 57},
    119: {"first": 6, "second": 58},
    120: {"first": 6, "second": 64},
    121: {"first": 6, "second": 65},
    122: {"first": 6, "second": 66},
    123: {"first": 6, "second": 67},
    124: {"first": 7, "second": 8},
    125: {"first": 7, "second": 9},
    126: {"first": 7, "second": 10},
    127: {"first": 7, "second": 11},
    128: {"first": 7, "second": 12},
    129: {"first": 7, "second": 13},
    130: {"first": 7, "second": 48},
    131: {"first": 7, "second": 54},
    132: {"first": 7, "second": 55},
    133: {"first": 7, "second": 56},
    134: {"first": 7, "second": 57},
    135: {"first": 7, "second": 58},
    136: {"first": 7, "second": 64},
    137: {"first": 7, "second": 65},
    138: {"first": 8, "second": 9},
    139: {"first": 8, "second": 10},
    140: {"first": 8, "second": 11},
    141: {"first": 8, "second": 48},
    142: {"first": 8, "second": 54},
    143: {"first": 8, "second": 60},
    144: {"first": 8, "second": 64},
    145: {"first": 9, "second": 10},
    146: {"first": 9, "second": 48},
    147: {"first": 9, "second": 54},
    148: {"first": 9, "second": 56},
    149: {"first": 9, "second": 57},
    150: {"first": 9, "second": 58},
    151: {"first": 9, "second": 59},
    152: {"first": 9, "second": 60},
    153: {"first": 9, "second": 66},
    154: {"first": 9, "second": 67},
    155: {"first": 10, "second": 11},
    156: {"first": 10, "second": 48},
    157: {"first": 10, "second": 56},
    158: {"first": 10, "second": 57},
    159: {"first": 10, "second": 58},
    160: {"first": 10, "second": 59},
    161: {"first": 10, "second": 60},
    162: {"first": 10, "second": 65},
    163: {"first": 10, "second": 66},
    164: {"first": 10, "second": 67},
    165: {"first": 11, "second": 48},
    166: {"first": 11, "second": 59},
    167: {"first": 11, "second": 60},
    168: {"first": 11, "second": 67},
    169: {"first": 12, "second": 13},
    170: {"first": 12, "second": 48},
    171: {"first": 12, "second": 49},
    172: {"first": 12, "second": 59},
    173: {"first": 12, "second": 60},
    174: {"first": 13, "second": 14},
    175: {"first": 13, "second": 48},
    176: {"first": 13, "second": 49},
    177: {"first": 13, "second": 54},
    178: {"first": 13, "second": 60},
    179: {"first": 13, "second": 64},
    180: {"first": 14, "second": 48},
    181: {"first": 14, "second": 49},
    182: {"first": 14, "second": 54},
    183: {"first": 14, "second": 60},
    184: {"first": 14, "second": 64},
    185: {"first": 15, "second": 16},
    186: {"first": 15, "second": 17},
    187: {"first": 15, "second": 48},
    188: {"first": 15, "second": 54},
    189: {"first": 15, "second": 60},
    190: {"first": 16, "second": 17},
    191: {"first": 16, "second": 38},
    192: {"first": 16, "second": 39},
    193: {"first": 16, "second": 40},
    194: {"first": 17, "second": 18},
    195: {"first": 17, "second": 20},
    196: {"first": 17, "second": 21},
    197: {"first": 17, "second": 25},
    198: {"first": 17, "second": 26},
    199: {"first": 17, "second": 27},
    200: {"first": 17, "second": 37},
    201: {"first": 17, "second": 38},
    202: {"first": 17, "second": 42},
    203: {"first": 17, "second": 43},
    204: {"first": 17, "second": 44},
    205: {"first": 17, "second": 45},
    206: {"first": 17, "second": 47},
    207: {"first": 17, "second": 48},
    208: {"first": 17, "second": 60},
    209: {"first": 18, "second": 19},
    210: {"first": 18, "second": 20},
    211: {"first": 18, "second": 21},
    212: {"first": 18, "second": 26},
    213: {"first": 18, "second": 48},
    214: {"first": 18, "second": 57},
    215: {"first": 18, "second": 58},
    216: {"first": 18, "second": 59},
    217: {"first": 18, "second": 60},
    218: {"first": 18, "second": 67},
    219: {"first": 19, "second": 20},
    220: {"first": 19, "second": 21},
    221: {"first": 19, "second": 40},
    222: {"first": 19, "second": 41},
    223: {"first": 19, "second": 48},
    224: {"first": 19, "second": 55},
    225: {"first": 19, "second": 56},
    226: {"first": 19, "second": 57},
    227: {"first": 19, "second": 58},
    228: {"first": 19, "second": 59},
    229: {"first": 19, "second": 60},
    230: {"first": 19, "second": 65},
    231: {"first": 19, "second": 66},
    232: {"first": 19, "second": 67},
    233: {"first": 20, "second": 21},
    234: {"first": 20, "second": 39},
    235: {"first": 20, "second": 40},
    236: {"first": 20, "second": 41},
    237: {"first": 20, "second": 48},
    238: {"first": 20, "second": 54},
    239: {"first": 20, "second": 55},
    240: {"first": 20, "second": 56},
    241: {"first": 20, "second": 57},
    242: {"first": 20, "second": 58},
    243: {"first": 20, "second": 59},
    244: {"first": 20, "second": 60},
    245: {"first": 20, "second": 64},
    246: {"first": 20, "second": 65},
    247: {"first": 20, "second": 66},
    248: {"first": 20, "second": 67},
    249: {"first": 21, "second": 48},
    250: {"first": 21, "second": 54},
    251: {"first": 21, "second": 55},
    252: {"first": 21, "second": 56},
    253: {"first": 21, "second": 57},
    254: {"first": 21, "second": 58},
    255: {"first": 21, "second": 59},
    256: {"first": 21, "second": 60},
    257: {"first": 21, "second": 64},
    258: {"first": 21, "second": 65},
    259: {"first": 21, "second": 66},
    260: {"first": 21, "second": 67},
    261: {"first": 22, "second": 23},
    262: {"first": 22, "second": 24},
    263: {"first": 22, "second": 25},
    264: {"first": 22, "second": 26},
    265: {"first": 22, "second": 48},
    266: {"first": 22, "second": 53},
    267: {"first": 22, "second": 54},
    268: {"first": 22, "second": 55},
    269: {"first": 22, "second": 56},
    270: {"first": 22, "second": 57},
    271: {"first": 22, "second": 58},
    272: {"first": 22, "second": 59},
    273: {"first": 22, "second": 60},
    274: {"first": 22, "second": 64},
    275: {"first": 22, "second": 65},
    276: {"first": 22, "second": 66},
    277: {"first": 22, "second": 67},
    278: {"first": 23, "second": 24},
    279: {"first": 23, "second": 25},
    280: {"first": 23, "second": 46},
    281: {"first": 23, "second": 47},
    282: {"first": 23, "second": 54},
    283: {"first": 23, "second": 55},
    284: {"first": 23, "second": 56},
    285: {"first": 23, "second": 57},
    286: {"first": 23, "second": 58},
    287: {"first": 23, "second": 59},
    288: {"first": 23, "second": 64},
    289: {"first": 23, "second": 65},
    290: {"first": 23, "second": 66},
    291: {"first": 23, "second": 67},
    292: {"first": 24, "second": 25},
    293: {"first": 24, "second": 46},
    294: {"first": 24, "second": 47},
    295: {"first": 24, "second": 54},
    296: {"first": 24, "second": 55},
    297: {"first": 24, "second": 56},
    298: {"first": 24, "second": 57},
    299: {"first": 24, "second": 58},
    300: {"first": 24, "second": 59},
    301: {"first": 24, "second": 64},
    302: {"first": 24, "second": 65},
    303: {"first": 24, "second": 66},
    304: {"first": 24, "second": 67},
    305: {"first": 25, "second": 26},
    306: {"first": 25, "second": 54},
    307: {"first": 25, "second": 55},
    308: {"first": 25, "second": 56},
    309: {"first": 25, "second": 57},
    310: {"first": 25, "second": 64},
    311: {"first": 25, "second": 65},
    312: {"first": 25, "second": 66},
    313: {"first": 26, "second": 27},
    314: {"first": 26, "second": 37},
    315: {"first": 26, "second": 38},
    316: {"first": 26, "second": 39},
    317: {"first": 26, "second": 40},
    318: {"first": 26, "second": 43},
    319: {"first": 26, "second": 44},
    320: {"first": 26, "second": 54},
    321: {"first": 26, "second": 64},
    322: {"first": 27, "second": 38},
    323: {"first": 27, "second": 39},
    324: {"first": 28, "second": 31},
    325: {"first": 28, "second": 32},
    326: {"first": 28, "second": 34},
    327: {"first": 28, "second": 35},
    328: {"first": 28, "second": 39},
    329: {"first": 28, "second": 40},
    330: {"first": 28, "second": 42},
    331: {"first": 28, "second": 56},
    332: {"first": 28, "second": 57},
    333: {"first": 28, "second": 58},
    334: {"first": 28, "second": 65},
    335: {"first": 28, "second": 66},
    336: {"first": 28, "second": 67},
    337: {"first": 29, "second": 31},
    338: {"first": 29, "second": 32},
    339: {"first": 29, "second": 33},
    340: {"first": 29, "second": 34},
    341: {"first": 29, "second": 35},
    342: {"first": 29, "second": 55},
    343: {"first": 29, "second": 56},
    344: {"first": 29, "second": 57},
    345: {"first": 29, "second": 58},
    346: {"first": 29, "second": 59},
    347: {"first": 29, "second": 65},
    348: {"first": 29, "second": 66},
    349: {"first": 29, "second": 67},
    350: {"first": 30, "second": 32},
    351: {"first": 30, "second": 33},
    352: {"first": 30, "second": 34},
    353: {"first": 30, "second": 56},
    354: {"first": 30, "second": 57},
    355: {"first": 30, "second": 58},
    356: {"first": 30, "second": 65},
    357: {"first": 30, "second": 66},
    358: {"first": 30, "second": 67},
    359: {"first": 31, "second": 32},
    360: {"first": 31, "second": 33},
    361: {"first": 31, "second": 47},
    362: {"first": 31, "second": 56},
    363: {"first": 31, "second": 57},
    364: {"first": 31, "second": 58},
    365: {"first": 31, "second": 59},
    366: {"first": 31, "second": 66},
    367: {"first": 31, "second": 67},
    368: {"first": 32, "second": 33},
    369: {"first": 32, "second": 34},
    370: {"first": 32, "second": 56},
    371: {"first": 32, "second": 57},
    372: {"first": 32, "second": 58},
    373: {"first": 32, "second": 59},
    374: {"first": 32, "second": 65},
    375: {"first": 32, "second": 66},
    376: {"first": 32, "second": 67},
    377: {"first": 33, "second": 34},
    378: {"first": 33, "second": 35},
    379: {"first": 33, "second": 56},
    380: {"first": 33, "second": 57},
    381: {"first": 33, "second": 58},
    382: {"first": 33, "second": 65},
    383: {"first": 33, "second": 66},
    384: {"first": 33, "second": 67},
    385: {"first": 34, "second": 35},
    386: {"first": 34, "second": 55},
    387: {"first": 34, "second": 56},
    388: {"first": 34, "second": 57},
    389: {"first": 34, "second": 58},
    390: {"first": 34, "second": 65},
    391: {"first": 34, "second": 66},
    392: {"first": 34, "second": 67},
    393: {"first": 35, "second": 40},
    394: {"first": 35, "second": 55},
    395: {"first": 35, "second": 56},
    396: {"first": 35, "second": 57},
    397: {"first": 35, "second": 58},
    398: {"first": 35, "second": 65},
    399: {"first": 35, "second": 66},
    400: {"first": 35, "second": 67},
    401: {"first": 36, "second": 37},
    402: {"first": 36, "second": 38},
    403: {"first": 36, "second": 39},
    404: {"first": 36, "second": 40},
    405: {"first": 36, "second": 41},
    406: {"first": 36, "second": 48},
    407: {"first": 36, "second": 60},
    408: {"first": 37, "second": 38},
    409: {"first": 37, "second": 39},
    410: {"first": 37, "second": 40},
    411: {"first": 37, "second": 41},
    412: {"first": 37, "second": 48},
    413: {"first": 37, "second": 60},
    414: {"first": 38, "second": 39},
    415: {"first": 38, "second": 40},
    416: {"first": 38, "second": 41},
    417: {"first": 38, "second": 42},
    418: {"first": 38, "second": 48},
    419: {"first": 38, "second": 60},
    420: {"first": 39, "second": 40},
    421: {"first": 39, "second": 41},
    422: {"first": 39, "second": 42},
    423: {"first": 39, "second": 47},
    424: {"first": 40, "second": 41},
    425: {"first": 40, "second": 42},
    426: {"first": 41, "second": 48},
    427: {"first": 42, "second": 43},
    428: {"first": 42, "second": 46},
    429: {"first": 42, "second": 47},
    430: {"first": 42, "second": 54},
    431: {"first": 43, "second": 44},
    432: {"first": 43, "second": 45},
    433: {"first": 43, "second": 46},
    434: {"first": 43, "second": 47},
    435: {"first": 43, "second": 54},
    436: {"first": 43, "second": 64},
    437: {"first": 44, "second": 45},
    438: {"first": 44, "second": 46},
    439: {"first": 44, "second": 47},
    440: {"first": 44, "second": 54},
    441: {"first": 44, "second": 64},
    442: {"first": 45, "second": 46},
    443: {"first": 45, "second": 47},
    444: {"first": 45, "second": 54},
    445: {"first": 45, "second": 64},
    446: {"first": 46, "second": 47},
    447: {"first": 46, "second": 54},
    448: {"first": 48, "second": 51},
    449: {"first": 48, "second": 52},
    450: {"first": 48, "second": 53},
    451: {"first": 48, "second": 54},
    452: {"first": 48, "second": 55},
    453: {"first": 48, "second": 56},
    454: {"first": 48, "second": 57},
    455: {"first": 48, "second": 58},
    456: {"first": 48, "second": 60},
    457: {"first": 48, "second": 61},
    458: {"first": 48, "second": 62},
    459: {"first": 48, "second": 63},
    460: {"first": 48, "second": 64},
    461: {"first": 48, "second": 65},
    462: {"first": 48, "second": 66},
    463: {"first": 48, "second": 67},
    464: {"first": 49, "second": 51},
    465: {"first": 49, "second": 52},
    466: {"first": 49, "second": 53},
    467: {"first": 49, "second": 54},
    468: {"first": 49, "second": 57},
    469: {"first": 49, "second": 58},
    470: {"first": 49, "second": 59},
    471: {"first": 49, "second": 61},
    472: {"first": 49, "second": 62},
    473: {"first": 49, "second": 63},
    474: {"first": 49, "second": 64},
    475: {"first": 50, "second": 51},
    476: {"first": 50, "second": 52},
    477: {"first": 50, "second": 53},
    478: {"first": 50, "second": 54},
    479: {"first": 50, "second": 57},
    480: {"first": 50, "second": 58},
    481: {"first": 50, "second": 61},
    482: {"first": 50, "second": 64},
    483: {"first": 50, "second": 66},
    484: {"first": 50, "second": 67},
    485: {"first": 51, "second": 52},
    486: {"first": 51, "second": 53},
    487: {"first": 51, "second": 56},
    488: {"first": 51, "second": 57},
    489: {"first": 51, "second": 58},
    490: {"first": 51, "second": 62},
    491: {"first": 51, "second": 65},
    492: {"first": 51, "second": 66},
    493: {"first": 51, "second": 67},
    494: {"first": 52, "second": 56},
    495: {"first": 52, "second": 57},
    496: {"first": 52, "second": 60},
    497: {"first": 52, "second": 63},
    498: {"first": 52, "second": 65},
    499: {"first": 52, "second": 66},
    500: {"first": 53, "second": 55},
    501: {"first": 53, "second": 56},
    502: {"first": 53, "second": 57},
    503: {"first": 53, "second": 59},
    504: {"first": 53, "second": 60},
    505: {"first": 53, "second": 61},
    506: {"first": 53, "second": 62},
    507: {"first": 53, "second": 63},
    508: {"first": 54, "second": 56},
    509: {"first": 54, "second": 57},
    510: {"first": 54, "second": 58},
    511: {"first": 54, "second": 59},
    512: {"first": 54, "second": 60},
    513: {"first": 54, "second": 61},
    514: {"first": 54, "second": 62},
    515: {"first": 54, "second": 63},
    516: {"first": 54, "second": 64},
    517: {"first": 54, "second": 65},
    518: {"first": 54, "second": 66},
    519: {"first": 54, "second": 67},
    520: {"first": 55, "second": 57},
    521: {"first": 55, "second": 58},
    522: {"first": 55, "second": 59},
    523: {"first": 55, "second": 60},
    524: {"first": 55, "second": 65},
    525: {"first": 55, "second": 66},
    526: {"first": 55, "second": 67},
    527: {"first": 56, "second": 57},
    528: {"first": 56, "second": 58},
    529: {"first": 56, "second": 59},
    530: {"first": 56, "second": 60},
    531: {"first": 56, "second": 62},
    532: {"first": 56, "second": 63},
    533: {"first": 56, "second": 64},
    534: {"first": 57, "second": 58},
    535: {"first": 57, "second": 59},
    536: {"first": 57, "second": 60},
    537: {"first": 57, "second": 61},
    538: {"first": 57, "second": 62},
    539: {"first": 57, "second": 63},
    540: {"first": 57, "second": 64},
    541: {"first": 58, "second": 60},
    542: {"first": 58, "second": 61},
    543: {"first": 58, "second": 62},
    544: {"first": 58, "second": 64},
    545: {"first": 59, "second": 64},
    546: {"first": 59, "second": 65},
    547: {"first": 59, "second": 66},
    548: {"first": 59, "second": 67},
    549: {"first": 60, "second": 62},
    550: {"first": 60, "second": 63},
    551: {"first": 60, "second": 64},
    552: {"first": 60, "second": 65},
    553: {"first": 60, "second": 66},
    554: {"first": 60, "second": 67},
    555: {"first": 61, "second": 62},
    556: {"first": 61, "second": 63},
    557: {"first": 61, "second": 64},
    558: {"first": 61, "second": 67},
    559: {"first": 62, "second": 63},
    560: {"first": 62, "second": 64},
    561: {"first": 62, "second": 66},
    562: {"first": 63, "second": 65},
    563: {"first": 64, "second": 65},
    564: {"first": 64, "second": 66},
    565: {"first": 64, "second": 67},
    566: {"first": 65, "second": 66},
    567: {"first": 65, "second": 67},
    568: {"first": 66, "second": 67},
}


def label_to_emotion(label):

    """
        Method takes in a predicted label (int) and converts to an corresponding emotion (string)
        :param label:
        :return emotion:
    """

    emotions = {
        0: 'Neutral',
        1: 'Anger',
        2: 'Disgust',
        3: 'Fear',
        4: 'Happy',
        5: 'Sad',
        6: 'Surprised'
    }

    return emotions[label]


def process_params(data):

    """
        Method takes in raw data from images and converts to required format
        (*see https://github.com/cjlin1/libsvm/tree/master/python) for predictions.
        :param data:
        :return processed data:
    """

    params = []
    distances = []

    global maximum
    global minimum

    for key, value in parameters.items():

        point_one = data[str(value["first"])]
        point_two = data[str(value["second"])]

        dist = find_distance(point_one, point_two)

        if dist > maximum:
            maximum = dist
        if dist < minimum:
            minimum = dist

        distances = distances + [dist]

    index = 1
    for z in distances:

        val = normalize(z)
        params = params + [val]
        index = index + 1

    reset_min_max()
    return params


def find_distance(point_one, point_two):

    """
        Method takes in two points {x,y} and returns the euclidean distance between them.
        :param point_one:
        :param point_two:
        :return distance:
    """

    a = (point_one["x"], point_one["y"])
    b = (point_two["x"], point_two["y"])
    return (distance.euclidean(a, b)).item()


def normalize(param):

    """
        Method takes in a parameter and rescales it to a real number between [-1,1]
        :param param:
        :return normalized(param):
    """

    global maximum
    global minimum

    return (param - minimum) / (maximum - minimum)


def reset_min_max():

    """
        Method resets param min / max value used for scaling
    """

    global minimum
    global maximum

    maximum = float(-10000.0)  # For normalizing data
    minimum = float(10000.0)   # For normalizing data


def predict(landmarks):

    """
        Method takes in parameters, preforms a prediction and returns the result
        :param landmarks:
        :return emotion:
    """

    y = []
    x = list()

    y = y + [0]
    x.append(np.array(process_params(landmarks)))

    global model
    prediction = model.predict(np.array(x))

    return label_to_emotion(np.argmax(prediction[0]))
